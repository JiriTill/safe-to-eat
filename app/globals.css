@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== Theme tokens ==== */
:root {
  --bg: #0a0d0f;
  --card: #131719;
  --card-elev: #1a1f23;
  --border: #2a3136;

  --text-primary:   #f0f4f8;   /* AAA on --bg */
  --text-secondary: #a8b8c8;   /* AA 4.5:1 */
  --text-muted:     #6b7a8a;

  /* verdict semantics */
  --safe:    #22c55e;  --safe-bg:    #22c55e15;
  --caution: #f59e0b;  --caution-bg: #f59e0b15;
  --danger:  #ef4444;  --danger-bg:  #ef444415;

  --accent: #3b82f6; /* focus + primary action */
}

/* ==== A11y helpers ==== */
*:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
button, .btn, .badge { min-height: 44px; min-width: 44px; }

@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; transition-duration: .01ms !important; }
}

/* ==== Base / Surfaces ==== */
@layer base {
  html { min-height: 100%; }

  /* Full-page background that never cuts off */
  html::before {
    content: "";
    position: fixed;   /* covers entire viewport during scroll */
    inset: 0;
    z-index: -1;
    pointer-events: none;

    background-image:
      radial-gradient(1000px 600px at 10% -10%, rgba(17,24,39,.35), transparent),
      radial-gradient(900px 500px at 110% -20%, rgba(30,41,59,.25), transparent),
      linear-gradient(135deg, #0b0f12 0%, #0f1720 100%);
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
  }

  body {
    @apply antialiased;
    min-height: 100%;
    color: var(--text-primary);
    background-color: var(--bg); /* fallback behind gradients */
  }

  /* basic link reset; use .link for accent */
  a { color: inherit; text-decoration: none; }
}

/* ==== Components bound to tokens ==== */
@layer components {
  /* Layout container */
  .container { @apply max-w-3xl mx-auto px-4; }

  /* Card */
  .card {
    background-color: var(--card);
    border: 1px solid var(--border);
    @apply rounded-2xl p-5 md:p-6 shadow-lg;
  }

  /* Buttons (base) */
  .btn {
    background-color: var(--card-elev);
    color: var(--text-primary);
    border: 1px solid var(--border);
    @apply inline-flex items-center justify-center font-semibold rounded-2xl px-4 py-2 transition;
  }
  .btn:hover { filter: brightness(1.08); }
  .btn:active { transform: translateY(1px); }

  /* Selected/pressed (used by env buttons) */
  .btn[aria-pressed="true"], .btn.active {
    background-color: var(--accent);
    color: #fff;
    border-color: transparent;
  }

  /* Button variants */
  .btn-primary {
    background-color: var(--accent);
    color: #fff;
    border-color: transparent;
  }
  .btn-primary:hover { filter: brightness(1.08); }

  .btn-lg {
    padding: 0.9rem 1.25rem;
    font-size: 1.05rem;
    border-radius: 9999px;
  }

  /* Ko-fi look */
  .btn-kofi {
    background-color: #72a4f2;
    color: #0b1020;
    border-color: transparent;
  }
  .btn-kofi:hover { filter: brightness(1.08); }

  /* Inputs */
  .input {
    background-color: var(--card);
    color: var(--text-primary);
    border: 1px solid var(--border);
    @apply w-full rounded-2xl py-3 px-4;
  }
  .input::placeholder { color: var(--text-muted); }
  .input:focus { outline: 2px solid var(--accent); outline-offset: 2px; }

  /* Badges (hero examples) */
  .badge {
    background-color: var(--card-elev);
    color: var(--text-secondary);
    border: 1px solid var(--border);
    @apply inline-flex items-center gap-2 rounded-md px-2.5 py-1 text-sm;
  }
  .badge-safe   { background-color: var(--safe-bg);   color: var(--safe); }
  .badge-danger { background-color: var(--danger-bg); color: var(--danger); }

  /* Accent links */
  .link { color: var(--accent); }
  .link:hover { text-decoration: underline; }
}
